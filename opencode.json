{
  "$schema": "https://opencode.ai/config.json",
  "model": "{env:OPENCODE_MODEL}",
  "small_model": "{env:OPENCODE_SMALL_MODEL}",
  "lsp": {
    "custom-dart": {
      "disabled": false,
      "command": [
        "fvm",
        "dart",
        "language-server",
        "--protocol=lsp"
      ],
      "extensions": [
        ".dart"
      ],
      "initialization": {
        "onlyAnalyzeProjectsWithOpenFiles": false,
        "suggestFromUnimportedLibraries": true,
        "closingLabels": true,
        "outline": true,
        "flutterOutline": true
      }
    },
    "dart": {
      "disabled": true
    }
  },
  "formatter": {
    "dart-fix": {
      "command": [
        "fvm",
        "dart",
        "fix",
        "--apply",
        "$FILE"
      ],
      "extensions": [
        ".dart"
      ]
    },
    "dart-import-sorter": {
      "command": [
        "fvm",
        "dart",
        "pub",
        "run",
        "import_sorter:main",
        "$FILE"
      ],
      "extensions": [
        ".dart"
      ]
    },
    "dart-format": {
      "command": [
        "fvm",
        "dart",
        "format",
        "$FILE"
      ]
    }
  },
  "mcp": {
    "dart": {
      "enabled": true,
      "type": "local",
      "command": [
        "fvm",
        "dart",
        "mcp-server",
        "--force-roots-fallback"
      ]
    },
  }
}